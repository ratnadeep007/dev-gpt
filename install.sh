#!/bin/bash

string="IC4tLS0tLS0tLS0tLS0tLS0tLiAgLi0tLS0tLS0tLS0tLS0tLS0uICAuLS0tLS0tLS0tLS0tLS0tLS4gIC4tLS0tLS0tLS0tLS0tLS0tLiAgLi0tLS0tLS0tLS0tLS0tLS0uICAuLS0tLS0tLS0tLS0tLS0tLS4gDQp8IC4tLS0tLS0tLS0tLS0tLS4gfHwgLi0tLS0tLS0tLS0tLS0tLiB8fCAuLS0tLS0tLS0tLS0tLS0uIHx8IC4tLS0tLS0tLS0tLS0tLS4gfHwgLi0tLS0tLS0tLS0tLS0tLiB8fCAuLS0tLS0tLS0tLS0tLS0uIHwNCnwgfCAgX19fX19fX18gICAgfCB8fCB8ICBfX19fX19fX18gICB8IHx8IHwgX19fXyAgIF9fX18gIHwgfHwgfCAgICBfX19fX18gICAgfCB8fCB8ICAgX19fX19fICAgICB8IHx8IHwgIF9fX19fX19fXyAgIHwgfA0KfCB8IHxfICAgX19fIGAuICB8IHx8IHwgfF8gICBfX18gIHwgIHwgfHwgfHxfICBffCB8XyAgX3wgfCB8fCB8ICAuJyBfX18gIHwgICB8IHx8IHwgIHxfICAgX18gXCAgIHwgfHwgfCB8ICBfICAgXyAgfCAgfCB8DQp8IHwgICB8IHwgICBgLiBcIHwgfHwgfCAgIHwgfF8gIFxffCAgfCB8fCB8ICBcIFwgICAvIC8gICB8IHx8IHwgLyAuJyAgIFxffCAgIHwgfHwgfCAgICB8IHxfXykgfCAgfCB8fCB8IHxfLyB8IHwgXF98ICB8IHwNCnwgfCAgIHwgfCAgICB8IHwgfCB8fCB8ICAgfCAgX3wgIF8gICB8IHx8IHwgICBcIFwgLyAvICAgIHwgfHwgfCB8IHwgICAgX19fXyAgfCB8fCB8ICAgIHwgIF9fXy8gICB8IHx8IHwgICAgIHwgfCAgICAgIHwgfA0KfCB8ICBffCB8X19fLicgLyB8IHx8IHwgIF98IHxfX18vIHwgIHwgfHwgfCAgICBcICcgLyAgICAgfCB8fCB8IFwgYC5fX19dICBffCB8IHx8IHwgICBffCB8XyAgICAgIHwgfHwgfCAgICBffCB8XyAgICAgfCB8DQp8IHwgfF9fX19fX19fLicgIHwgfHwgfCB8X19fX19fX19ffCAgfCB8fCB8ICAgICBcXy8gICAgICB8IHx8IHwgIGAuX19fX18uJyAgIHwgfHwgfCAgfF9fX19ffCAgICAgfCB8fCB8ICAgfF9fX19ffCAgICB8IHwNCnwgfCAgICAgICAgICAgICAgfCB8fCB8ICAgICAgICAgICAgICB8IHx8IHwgICAgICAgICAgICAgIHwgfHwgfCAgICAgICAgICAgICAgfCB8fCB8ICAgICAgICAgICAgICB8IHx8IHwgICAgICAgICAgICAgIHwgfA0KfCAnLS0tLS0tLS0tLS0tLS0nIHx8ICctLS0tLS0tLS0tLS0tLScgfHwgJy0tLS0tLS0tLS0tLS0tJyB8fCAnLS0tLS0tLS0tLS0tLS0nIHx8ICctLS0tLS0tLS0tLS0tLScgfHwgJy0tLS0tLS0tLS0tLS0tJyB8DQogJy0tLS0tLS0tLS0tLS0tLS0nICAnLS0tLS0tLS0tLS0tLS0tLScgICctLS0tLS0tLS0tLS0tLS0tJyAgJy0tLS0tLS0tLS0tLS0tLS0nICAnLS0tLS0tLS0tLS0tLS0tLScgICctLS0tLS0tLS0tLS0tLS0tJyA="

echo ${string} | base64 -d 

# Determine the user's operating system
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
  OS="linux"
elif [[ "$OSTYPE" == "darwin"* ]]; then
  OS="macos"
elif [[ "$OSTYPE" == "win32" ]]; then
  OS="windows"
else
  echo "Unsupported operating system: $OSTYPE"
  exit 1
fi

# Determine the latest release version
RELEASE=$(curl -s https://api.github.com/repos/ratnadeep007/dev-gpt/releases/latest | grep "tag_name" | cut -d'"' -f4)

# Download the appropriate executable for the user's operating system
URL="https://github.com/ratnadeep007/dev-gpt/releases/download/$RELEASE/devgpt-$OS"
curl -L -o devgpt "$URL"

# Make the executable executable
chmod +x devgpt

# Move the executable to a directory in the user's PATH
sudo mv devgpt /usr/local/bin/
